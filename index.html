<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>🔥 Agent Web — VIP 3 Dashboard</title>
  <style>
    body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f1f5f9; }
    .navbar { display:flex; justify-content:space-around; background:#1e293b; color:white; padding:10px; }
    .navbar button { background:none; border:none; color:white; font-size:14px; cursor:pointer; }
    .page { display:none; padding:20px; }
    .active { display:block; }
    .card { background:white; padding:20px; border-radius:15px; margin-bottom:20px; box-shadow:0 2px 5px rgba(0,0,0,0.1); }
    .button { background:#2563eb; color:white; border:none; padding:10px 15px; border-radius:8px; cursor:pointer; }
    .button.secondary { background:#64748b; }
    .button.ghost { background:#e2e8f0; color:#1e293b; }
    .input { width:100%; padding:8px; border:1px solid #cbd5e1; border-radius:8px; margin-top:8px; }
    .help { font-size:12px; color:#475569; margin-top:6px; }
    .small { font-size:14px; color:#475569; }
    .circle-wrap { margin:20px auto; width:120px; height:120px; position:relative; }
    .circle { width:120px; height:120px; border-radius:50%; background:#2563eb; display:flex; align-items:center; justify-content:center; color:white; font-weight:bold; font-size:14px; }
  </style>
</head>
<body>
  <div class="navbar">
    <button onclick="showPage('dashboard')">Dashboard</button>
    <button onclick="showPage('deposit')">Deposit</button>
    <button onclick="showPage('withdraw')">Withdraw</button>
    <button onclick="showPage('referral')">Referral</button>
  </div>

  <!-- DASHBOARD -->
  <section id="dashboard" class="page active">
    <div class="card">
      <h3>Balance: Rs <span id="bal">0</span></h3>
      <p>Daily Profit: <b>Rs 833</b> · Duration: <b>30 days</b> · Total Profit: <b>Rs 25,000</b></p>
      <div class="circle-wrap">
        <div class="circle" id="circle">
          <div class="inner" id="countTxt">Buy Plan</div>
        </div>
      </div>
      <div class="help">24h countdown inside the circle — after completion, daily profit will be credited</div>
      <button class="button" onclick="onBuyPlan()">Buy Now — VIP 3 (Rs 5,000)</button>
      <div class="plan">
        <div>
          <div class="badge">VIP 3</div>
          <div class="small" style="margin-top:6px">Price: Rs 5,000 · Daily: 833 · 30 Days</div>
        </div>
        <div class="small">Auto credit every 24h</div>
      </div>
      <div class="top-actions">
        <button class="button secondary" onclick="showPage('deposit')">Go to Deposit</button>
        <button class="button ghost" onclick="showPage('withdraw')">Withdraw</button>
      </div>
      <div class="help" style="margin-top:10px">
        Demo only (no backend). Data is saved in your browser (localStorage).
        <span class="linklike" onclick="resetDemo()">Reset demo</span>
      </div>
    </div>
  </section>

  <!-- DEPOSIT -->
  <section id="deposit" class="page">
    <div class="card">
      <h3>💳 Deposit Funds</h3>
      <p>Methods allowed: <b>Easypaisa</b>, <b>USDT Address</b></p>
      <div class="small" style="text-align:left; background:#f8fafc; border:1px solid #e2e8f0; padding:10px; border-radius:10px; margin-bottom:10px;">
        <b>Easypaisa Number:</b><br>
        <code>03319535871</code>
      </div>
      <div class="small" style="text-align:left; background:#f8fafc; border:1px solid #e2e8f0; padding:10px; border-radius:10px;">
        <b>USDT (TRC20) Address:</b><br>
        <code id="usdtAddr">TRREi2xqQF9rqQt23xBviZ3h9zWkQiUaaq</code>
      </div>
      <input type="text" id="txnId" class="input" placeholder="Enter Transaction ID (e.g., 1290347845)">
      <button class="button" onclick="onDeposit()">Submit Deposit (adds Rs 5,000)</button>
      <div class="help">Note: Only Transaction ID <b>1290347845</b> will work in this demo.</div>
    </div>
  </section>

  <!-- WITHDRAW -->
  <section id="withdraw" class="page">
    <div class="card">
      <h3>💸 Withdraw Funds</h3>
      <p class="small">Method: Easypaisa · JazzCash · USDT</p>
      <input type="text" class="input" placeholder="Enter Amount">
      <button class="button">Submit Withdraw</button>
    </div>
  </section>

  <!-- REFERRAL -->
  <section id="referral" class="page">
    <div class="card">
      <h3>👥 Referral Program</h3>
      <p class="sub">Invite friends and earn <b>20% commission</b> on their deposit.</p>
      <label class="small">Your Referral Link</label>
      <input type="text" id="refLink" class="input" value="https://example.com/ref/12345" readonly>
      <div class="help">On every invite, you will get 20% commission.</div>
    </div>
  </section>

  <script>
    // State
    function getState(){ return JSON.parse(localStorage.getItem('state')||'{"balance":0,"plan":false}'); }
    function setState(s){ localStorage.setItem('state', JSON.stringify(s)); }
    function updateBalanceDom(){ document.getElementById('bal').innerText = getState().balance; }

    // Page Switch
    function showPage(id){
      document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    // Buy Plan
    function onBuyPlan(){
      const s = getState();
      if(s.plan){ alert("Plan already active!"); return; }
      if(s.balance < 5000){ alert("Insufficient balance. Deposit Rs 5000 first."); return; }
      s.balance -= 5000; s.plan = true; setState(s); updateBalanceDom();
      startCountdown();
    }

    // Countdown (starts only after buying plan)
    function startCountdown(){
      const circle = document.getElementById('countTxt');
      let secs = 86400; // 24h
      const interval = setInterval(()=>{
        secs--;
        const hrs = Math.floor(secs/3600), min = Math.floor((secs%3600)/60), sec = secs%60;
        circle.innerText = hrs+":"+min+":"+sec;
        if(secs<=0){
          clearInterval(interval);
          const s = getState();
          s.balance += 833;
          setState(s);
          updateBalanceDom();
          circle.innerText = "Buy Plan";
          s.plan = false; setState(s);
        }
      },1000);
    }

    // Deposit (only works for given ID)
    function onDeposit(){
      const txn = document.getElementById('txnId').value || '';
      if(txn.trim() !== "1290347845"){ alert('❌ Invalid Transaction ID!'); return; }
      const s = getState();
      s.balance += 5000;
      setState(s);
      updateBalanceDom();
      alert('✅ Deposit successful! Rs 5000 added.');
      showPage('dashboard');
    }

    // Reset
    function resetDemo(){ localStorage.removeItem('state'); updateBalanceDom(); alert('Demo reset.'); }

    // Init
    updateBalanceDom();
  </script>
</body>
</html>
